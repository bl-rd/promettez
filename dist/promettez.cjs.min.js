"use strict";var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}return function(r,t,a){if(t)e(r.prototype,t);if(a)e(r,a);return r}}();function _classCallCheck(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}var Promettez=function(){function e(){_classCallCheck(this,e);this.keys=[]}_createClass(e,[{key:"addScript",value:function e(r){var t=[];if(Array.isArray(r)){for(var a=0;a<r.length;a++){var n=false;for(var s=0;s<this.keys.length;s++){if(this.keys[s]===r[a]){n=true}}if(!n){t.push(r[a]);this.keys.push(r[a])}}}else{if(this.keys.length>0){var i=false;this.keys.forEach(function(e){if(e===r){i=true}});if(!i){t.push(r);this.keys.push(r)}}else{t.push(r);this.keys.push(r)}}if(t.length>0){return new PromettezLoader(t)}else{var o="already added to queue: ";if(Array.isArray(r)){o+=r.join("\n"+o)}else{o+=r}return Promise.reject(o)}}}]);return e}();var PromettezLoader=function(){function e(r){_classCallCheck(this,e);this.url=r;this.urls=this.createUrlArray(r);var t=this.createScripts();return Promise.all(t)}_createClass(e,[{key:"createUrlArray",value:function e(r){var t=[];if(Array.isArray(r)){r.forEach(function(e){t.push(e)})}else{t=[r]}return t}},{key:"createScripts",value:function e(){var r=[];var t=false;this.urls.forEach(function(e){r.push(new Promise(function(r,t){var a=document.createElement("script");a.src=e;a.async=true;if(a.readyState){a.onreadystatechange=function(){if(a.readyState==="loaded"||a.readystate==="complete"){a.onreadystatechange=null;r(this)}}}else{a.onload=function(){r(this)}}a.onerror=a.onabort=t;var n=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];n.appendChild(a)}))});return r}}]);return e}();module.exports=Promettez;